<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<style>
body{background:#0a0f1c;color:white;font-family:sans-serif;margin:0}
.topbar{display:flex;justify-content:space-between;padding:18px;background:#0f1428}
.btn{padding:10px 16px;border:none;border-radius:8px;cursor:pointer}
.support{background:#1d4ed8;color:white}
.admin{background:#111827;color:white}
.discord{background:#5865F2;color:white}
.main{padding:30px}
.card{background:#111827;padding:20px;border-radius:12px;margin-bottom:20px}
#adminArea{position:fixed;bottom:20px;right:20px;background:#020617;padding:15px;border-radius:10px;display:none}
</style>
</head>

<body>

<div class="topbar">
<div>ULTRA DASHBOARD</div>

<div>
<button class="btn support" onclick="openSupport()">Support</button>
<button class="btn admin" onclick="adminToggle()">Admin</button>
<button class="btn discord" onclick="window.open('https://discord.gg/ATzJaBh3xk')">Discord</button>
</div>
</div>

<div class="main">

<div class="card">
<h3>Account</h3>
<p id="accountInfo">Loading...</p>
</div>

</div>

<div id="supportBox" style="display:none;background:#020617;padding:20px;border-radius:10px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)">
<h3>Support</h3>
<textarea id="supportText"></textarea><br><br>
<button onclick="generateSupport()">Create</button>
<button onclick="closeSupport()">Close</button>
<p id="supportOutput"></p>
</div>

<div id="adminArea">
<input id="cmdBox">
<button onclick="runCmd()">Run</button>
<div id="output"></div>
</div>

<script>

/* LOGIN CHECK */
const user=JSON.parse(localStorage.getItem("discordUser")||"null");
if(!user){location.href="index.html";}
else{
document.getElementById("accountInfo").innerText="Logged in as "+user.username;
}

/* MAINTENANCE */
if(localStorage.getItem("siteLocked")==="true"){
document.body.innerHTML="<h1 style='margin-top:40%;text-align:center'>Website Under Maintenance</h1>";
}

/* SUPPORT */
function openSupport(){supportBox.style.display="block";}
function closeSupport(){supportBox.style.display="none";}
function generateSupport(){
let t=supportText.value.trim();
if(!t)return alert("Write something");
supportOutput.innerText='I have a report/support: "'+t+'"';
}

/* ADMIN TOGGLE */
function adminToggle(){
adminArea.style.display="block";
}

/* COMMANDS */
function runCmd(){

let cmd=cmdBox.value.trim();

if(cmd==="?lockweb"){
localStorage.setItem("siteLocked","true");
location.reload();
}

else if(cmd==="?unlockweb"){
localStorage.removeItem("siteLocked");
location.reload();
}

else if(cmd.startsWith("?playsong")){
let id=cmd.split(" ")[1];
output.innerHTML=`<iframe width="250" height="140" src="https://www.youtube.com/embed/${id}" allowfullscreen></iframe>`;
}

else if(cmd==="?checkallusersaccount"){
output.innerText=localStorage.getItem("discordUser")||"none";
}

else alert("Unknown command");

}

</script>

</body>
</html>
