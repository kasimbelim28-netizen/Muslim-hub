<!DOCTYPE html>
<html>
<body style="background:#020617;color:white;text-align:center;font-family:sans-serif">

<h1>Admin Panel</h1>

<input id="cmdBox" placeholder="Type command here"
style="padding:10px;width:260px;border-radius:8px;border:none">

<br><br>

<button onclick="runCmd()" 
style="padding:10px 20px;border:none;border-radius:10px;background:#3b82f6;color:white">
Run Command
</button>

<div id="output" style="margin-top:20px"></div>

<script>

const OWNER_ID="1473632317112189062";

/* GET USER FROM LOGIN */
const user = JSON.parse(localStorage.getItem("discordUser") || "null");

/* NOT LOGGED IN */
if(!user){
document.body.innerHTML="<h2>You are not logged in</h2>";
}

/* NOT OWNER */
else if(user.id !== OWNER_ID){
document.body.innerHTML="<h2>Access Denied (Owner Only)</h2>";
}

/* COMMAND SYSTEM */
function runCmd(){

let cmd=document.getElementById("cmdBox").value.trim();

if(cmd === "?lockweb"){
localStorage.setItem("siteLocked","true");
alert("Website locked");
}

else if(cmd === "?unlockweb"){
localStorage.removeItem("siteLocked");
alert("Website unlocked");
}

else if(cmd.startsWith("?playsong")){
let parts = cmd.split(" ");
let song = parts[1];

if(song){
document.getElementById("output").innerHTML =
`<iframe width="300" height="170"
src="https://www.youtube.com/embed/${song}"
allowfullscreen></iframe>`;
}else{
alert("Write: ?playsong VIDEO_ID");
}
}

else if(cmd === "?checkallusersaccount"){
let users = JSON.parse(localStorage.getItem("users") || "[]");

document.getElementById("output").innerHTML =
"<pre>"+JSON.stringify(users,null,2)+"</pre>";
}

else{
alert("Unknown command");
}

}

</script>

</body>
</html>
